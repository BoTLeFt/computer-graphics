<HTML>
<BODY>

<canvas id='lab02' height='570' width='570' style='border: 1px solid'>
</canvas>
<canvas id='lab02_2' height='570' width='570' style='border: 1px solid'>
</canvas>

<script type="text/javascript">
	var canvas = document.getElementById('lab02');
	var ctx = canvas.getContext('2d');
	var canvas2 = document.getElementById('lab02_2');
	var ctx2 = canvas2.getContext('2d');
	
	let img = new Image();
	img.src = 'test.png';
	img.onload = function(){
		ctx.drawImage(img, 0, 0);
		let img_data = ctx.getImageData(0,0,canvas.width, canvas.height);
		let img_data2 = ctx2.createImageData(img_data);
		ctx2.putImageData(img_data2, 0, 0);
		for(let i=0; i<canvas.height; i++){
			for(let j=0; j<canvas.width; j++){
				for(let k=0; k<4; k++) {
					img_data2.data[4*(i*canvas.width+j)+k] = img_data.data[4*(i*canvas.width+j)+k];
				}
			}
		}
		ctx2.putImageData(img_data2, 0, 0);
	};


	
</script>
</BODY>	
</HTML>